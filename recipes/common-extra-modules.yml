# https://blue-build.org/how-to/multiple-files/
modules:
  - type: files
    files:
      - source: root
        destination: /

  # ledger udev rules
  - type: script
    snippets:
      - "pwd"
      - "ls -ahl"
      # the ledger repo is a submodule
      - "git submodule update --init --recursive"
  - type: files
    files:
      - source: LedgerHQ_udev-rules_repo
        destination: /etc/udev/rules.d/

  - type: signing # this sets up the proper policy & signing files for signed images to work fully
